---
title: 포트 스캐닝과 Risky Port (1)
date: 2025-10-09 16:00:00 +0900
tags: ASM
---

대부분의 공격 벡터는 새로운 제로데이 취약점보다는 기본적인 보안 설정 오류다. 관리자 페이지에 디폴트 계정을 사용하고 있거나, 패치를 제때 적용하지 않았거나, 망 분리를 제대로 해 놓지 않았을 수도 있다.

[OWASP](https://owasp.org/www-project-top-10-infrastructure-security-risks/docs/2024/ISR03_2024-Insecure_Configurations) 역시 **안전하지 않은 시스템 설정(Insecure System Configuration)**을 최상위 보안 위험 중 하나로 분류한다.
이러한 '안전하지 않은 시스템 설정' 취약점 중 대표적인 것이 **불필요한 포트 노출** 취약점이다.

# 포트스캐닝
대상의 어떤 포트가 열려 있는지 확인하는 것.
기본적으로는 **TCP 포트** 대상 스캐닝이며, UDP 포트까지 스캔해야 하는 경우는 드물다.
대체로 UDP 포트는 TCP 포트보다 스캐닝하는 데 훨씬 오래 걸린다.

## nmap
포트스캐닝에 가장 흔하게 사용되는 도구. 리눅스나 macOS에서는 터미널에서 설치해서 사용했고,
Windows에서는 [zenmap](https://nmap.org/download#windows)이라는 GUI 도구를 설치해서 사용했다.
zenmap을 설치하면 Powershell에서 ``nmap`` 명령어를 쓸 수 있다.

```
nmap scanme.nmap.org/24
nmap 142.250.206.238
```

자주 사용하게 되는 옵션은 이 정도다.

|스캔 옵션|설명|
|--------|----|
|``-Pn``|모든 포트가 Open 상태라고 가정 (ICMP Ping 생략)|
|``-sS``|스텔스 스캐닝 (TCP SYN 스캔)|
|``-p1-65535``|풀 포트 스캐닝|
|``-sV``|서비스 버전 정보 스캔|
|``-sU``|UDP 포트 스캔|
|``-T<0-5>``|스캐닝 속도 지정 (T5가 가장 빠름, 디폴트 속도는 T3)|

## Shodan.io
간단하게 **쇼단**이라고 부른다. 열린 포트를 찾는 데 사용하지만, 엄밀히 말하면 포트스캐닝 도구보다는 크롤러에 가깝다.

> 🗒️ **쇼단(Shodan.io)의 작동 원리**
> 
> 쇼단의 크롤러들은 배너를 찾기 위해 돌아다닌다. 즉 이 배너에 대한 정보를 사용자에게 돌려준다는 것이다. 배너란, 요청이 들어왔을 때 그에 대한 답으로 되돌려지는 정보들을 말한다. 요청에 응하는 서비스가 무엇이냐에 따라 이 배너는 소프트웨어 이름이나 버전 정보가 될 수도 있고, 설치 일자가 될 수도 있다. *([보안뉴스](https://www.boannews.com/media/view.asp?idx=72674))*

어쨌건 쓰는 사람 입장에서는 포트스캐닝과 비슷하다. 다만 ``nmap``과는 다르게 도메인 네임으로는 검색할 수 없고, 직접 포트스캐닝을 수행하는 사이트는 아니기 때문에 문제 풀이를 위해 방금 올린 서버의 IP 주소 등에 대한 정보는 찾을 수 없다.

또한 검색 시 **마지막으로 정보가 수집된 시각**을 잘 체크하는 것이 중요하다. 최신 정보가 아닐 수도 있기 때문.

![쇼단 검색 결과 화면](/img/2025-10-09.png)

오른쪽에서 각각의 정보가 수집된 시각들을 확인할 수 있다.

# Risky Port
위험 포트. 공격에 취약하고 열려 있는 네트워크 포트를 의미한다. 외부 접근이 필요하지 않은 서비스를 실행하는 중인 포트가 Open 상태라면 Risky Port라고 생각해도 무방하다.
일반적인 웹 서버라면 80(HTTP), 443(HTTPS) 포트만 Open 상태인 것이 안전하다.

쉽게 공격 대상이 되는 '특히 더 위험한' 포트는 **원격 접속에 필요한** 포트나 **중요한 정보를 빼낼 수 있는** 포트다.

|포트 번호|프로토콜|서비스 역할|
|--------|--------|-----------|
|20, 21|FTP|파일 전송 및 보관|
|22|SSH|보안 원격 접속|
|445|SMB|파일 공유|
|1433|MSSQL|데이터베이스 (MS 계열)|
|1521|Oracle|데이터베이스 (오라클 계열)|
|3306|MySQL, MariaDB|데이터베이스 (MySQL 계열)|
|3389|RDP|원격 데스크탑|
|5432|PostgreSQL|데이터베이스 (PostgreSQL 계열)|

# 다음 글
▶ <span style='background-color: #ffdce0; text-decoration: none'>[포트 스캐닝과 Risky Port (2)](https://k0met-dot.github.io/2025/10/09/port-scan-and-risky-port-2)</span>